Classfile /Users/mw/Projects/slang-braindump/.jar/jar11/assemble/slang-braindump/assemble/content/io/github/alexarchambault/windowsansi/NativeImageFeature.class
  Last modified May 29, 2022; size 5813 bytes
  SHA-256 checksum a9c779ac8f555389a247b25c707ae8ffca2b27b1aaf6553d5d7912bcde9e7257
  Compiled from "NativeImageFeature.java"
final class io.github.alexarchambault.windowsansi.NativeImageFeature implements org.graalvm.nativeimage.hosted.Feature
  minor version: 0
  major version: 52
  flags: (0x0030) ACC_FINAL, ACC_SUPER
  this_class: #55                         // io/github/alexarchambault/windowsansi/NativeImageFeature
  super_class: #33                        // java/lang/Object
  interfaces: 1, fields: 2, methods: 7, attributes: 4
Constant pool:
    #1 = Methodref          #33.#91       // java/lang/Object."<init>":()V
    #2 = Class              #92           // java/util/concurrent/atomic/AtomicBoolean
    #3 = Methodref          #2.#91        // java/util/concurrent/atomic/AtomicBoolean."<init>":()V
    #4 = Fieldref           #55.#93       // io/github/alexarchambault/windowsansi/NativeImageFeature.resourceRegistered:Ljava/util/concurrent/atomic/AtomicBoolean;
    #5 = Class              #95           // org/graalvm/nativeimage/Platform$WINDOWS
    #6 = InterfaceMethodref #94.#97       // org/graalvm/nativeimage/Platform.includedIn:(Ljava/lang/Class;)Z
    #7 = Fieldref           #55.#98       // io/github/alexarchambault/windowsansi/NativeImageFeature.JNI_CLASS_NAMES:Ljava/util/List;
    #8 = InterfaceMethodref #99.#100      // java/util/List.stream:()Ljava/util/stream/Stream;
    #9 = Methodref          #33.#101      // java/lang/Object.getClass:()Ljava/lang/Class;
   #10 = InvokeDynamic      #0:#107       // #0:apply:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Function;
   #11 = InterfaceMethodref #108.#109     // java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
   #12 = InvokeDynamic      #1:#113       // #1:test:()Ljava/util/function/Predicate;
   #13 = InterfaceMethodref #108.#114     // java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
   #14 = InvokeDynamic      #2:#117       // #2:apply:()Ljava/util/function/Function;
   #15 = InvokeDynamic      #3:#121       // #3:accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Consumer;
   #16 = InterfaceMethodref #108.#122     // java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
   #17 = Methodref          #123.#124     // java/lang/reflect/Method.getDeclaringClass:()Ljava/lang/Class;
   #18 = Methodref          #37.#125      // java/lang/Class.getDeclaredFields:()[Ljava/lang/reflect/Field;
   #19 = Methodref          #126.#127     // com/oracle/svm/core/jni/JNIRuntimeAccess.register:([Ljava/lang/reflect/Field;)V
   #20 = Methodref          #2.#128       // java/util/concurrent/atomic/AtomicBoolean.getAndSet:(Z)Z
   #21 = String             #129          // META-INF/native/windows64/jansi.dll
   #22 = Methodref          #37.#130      // java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
   #23 = Methodref          #131.#132     // java/lang/ClassLoader.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
   #24 = Class              #133          // java/lang/RuntimeException
   #25 = Class              #134          // java/lang/StringBuilder
   #26 = Methodref          #25.#91       // java/lang/StringBuilder."<init>":()V
   #27 = String             #135          // Could not find resource
   #28 = Methodref          #25.#136      // java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   #29 = Methodref          #25.#137      // java/lang/StringBuilder.toString:()Ljava/lang/String;
   #30 = Methodref          #24.#138      // java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
   #31 = Methodref          #139.#140     // com/oracle/svm/core/jdk/Resources.registerResource:(Ljava/lang/String;Ljava/io/InputStream;)V
   #32 = InvokeDynamic      #4:#143       // #4:accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Ljava/lang/reflect/Method;)Ljava/util/function/Consumer;
   #33 = Class              #144          // java/lang/Object
   #34 = InterfaceMethodref #68.#145      // org/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess.registerReachabilityHandler:(Ljava/util/function/Consumer;[Ljava/lang/Object;)V
   #35 = Methodref          #55.#146      // io/github/alexarchambault/windowsansi/NativeImageFeature.registerJNIFields:(Ljava/lang/reflect/Method;)V
   #36 = String             #147          // init
   #37 = Class              #148          // java/lang/Class
   #38 = Methodref          #149.#150     // com/oracle/svm/util/ReflectionUtil.lookupMethod:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
   #39 = Class              #151          // java/lang/String
   #40 = String             #152          // org.fusesource.jansi.internal.CLibrary
   #41 = String             #153          // org.fusesource.jansi.internal.CLibrary$WinSize
   #42 = String             #154          // org.fusesource.jansi.internal.CLibrary$Termios
   #43 = String             #155          // org.fusesource.jansi.internal.Kernel32
   #44 = String             #156          // org.fusesource.jansi.internal.Kernel32$SMALL_RECT
   #45 = String             #157          // org.fusesource.jansi.internal.Kernel32$COORD
   #46 = String             #158          // org.fusesource.jansi.internal.Kernel32$CONSOLE_SCREEN_BUFFER_INFO
   #47 = String             #159          // org.fusesource.jansi.internal.Kernel32$CHAR_INFO
   #48 = String             #160          // org.fusesource.jansi.internal.Kernel32$KEY_EVENT_RECORD
   #49 = String             #161          // org.fusesource.jansi.internal.Kernel32$MOUSE_EVENT_RECORD
   #50 = String             #162          // org.fusesource.jansi.internal.Kernel32$WINDOW_BUFFER_SIZE_RECORD
   #51 = String             #163          // org.fusesource.jansi.internal.Kernel32$FOCUS_EVENT_RECORD
   #52 = String             #164          // org.fusesource.jansi.internal.Kernel32$MENU_EVENT_RECORD
   #53 = String             #165          // org.fusesource.jansi.internal.Kernel32$INPUT_RECORD
   #54 = Methodref          #166.#167     // java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
   #55 = Class              #168          // io/github/alexarchambault/windowsansi/NativeImageFeature
   #56 = Class              #169          // org/graalvm/nativeimage/hosted/Feature
   #57 = Utf8               JNI_CLASS_NAMES
   #58 = Utf8               Ljava/util/List;
   #59 = Utf8               Signature
   #60 = Utf8               Ljava/util/List<Ljava/lang/String;>;
   #61 = Utf8               resourceRegistered
   #62 = Utf8               Ljava/util/concurrent/atomic/AtomicBoolean;
   #63 = Utf8               <init>
   #64 = Utf8               ()V
   #65 = Utf8               Code
   #66 = Utf8               LineNumberTable
   #67 = Utf8               beforeAnalysis
   #68 = Class              #170          // org/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess
   #69 = Utf8               BeforeAnalysisAccess
   #70 = Utf8               InnerClasses
   #71 = Utf8               (Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)V
   #72 = Utf8               StackMapTable
   #73 = Utf8               registerJNIFields
   #74 = Utf8               (Ljava/lang/reflect/Method;)V
   #75 = Class              #148          // java/lang/Class
   #76 = Class              #151          // java/lang/String
   #77 = Class              #171          // java/io/InputStream
   #78 = Utf8               lambda$beforeAnalysis$2
   #79 = Utf8               (Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
   #80 = Utf8               lambda$null$1
   #81 = Class              #172          // org/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess
   #82 = Utf8               DuringAnalysisAccess
   #83 = Utf8               (Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
   #84 = Utf8               lambda$beforeAnalysis$0
   #85 = Utf8               (Ljava/lang/Class;)Ljava/lang/reflect/Method;
   #86 = Utf8               <clinit>
   #87 = Utf8               SourceFile
   #88 = Utf8               NativeImageFeature.java
   #89 = Utf8               RuntimeVisibleAnnotations
   #90 = Utf8               Lcom/oracle/svm/core/annotate/AutomaticFeature;
   #91 = NameAndType        #63:#64       // "<init>":()V
   #92 = Utf8               java/util/concurrent/atomic/AtomicBoolean
   #93 = NameAndType        #61:#62       // resourceRegistered:Ljava/util/concurrent/atomic/AtomicBoolean;
   #94 = Class              #173          // org/graalvm/nativeimage/Platform
   #95 = Utf8               org/graalvm/nativeimage/Platform$WINDOWS
   #96 = Utf8               WINDOWS
   #97 = NameAndType        #174:#175     // includedIn:(Ljava/lang/Class;)Z
   #98 = NameAndType        #57:#58       // JNI_CLASS_NAMES:Ljava/util/List;
   #99 = Class              #176          // java/util/List
  #100 = NameAndType        #177:#178     // stream:()Ljava/util/stream/Stream;
  #101 = NameAndType        #179:#180     // getClass:()Ljava/lang/Class;
  #102 = Utf8               BootstrapMethods
  #103 = MethodHandle       6:#181        // REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
  #104 = MethodType         #182          //  (Ljava/lang/Object;)Ljava/lang/Object;
  #105 = MethodHandle       9:#183        // REF_invokeInterface org/graalvm/nativeimage/hosted/Feature$FeatureAccess.findClassByName:(Ljava/lang/String;)Ljava/lang/Class;
  #106 = MethodType         #184          //  (Ljava/lang/String;)Ljava/lang/Class;
  #107 = NameAndType        #185:#186     // apply:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Function;
  #108 = Class              #187          // java/util/stream/Stream
  #109 = NameAndType        #188:#189     // map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
  #110 = MethodType         #190          //  (Ljava/lang/Object;)Z
  #111 = MethodHandle       6:#191        // REF_invokeStatic java/util/Objects.nonNull:(Ljava/lang/Object;)Z
  #112 = MethodType         #175          //  (Ljava/lang/Class;)Z
  #113 = NameAndType        #192:#193     // test:()Ljava/util/function/Predicate;
  #114 = NameAndType        #194:#195     // filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
  #115 = MethodHandle       6:#196        // REF_invokeStatic io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$0:(Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #116 = MethodType         #85           //  (Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #117 = NameAndType        #185:#197     // apply:()Ljava/util/function/Function;
  #118 = MethodType         #198          //  (Ljava/lang/Object;)V
  #119 = MethodHandle       7:#199        // REF_invokeSpecial io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$2:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
  #120 = MethodType         #74           //  (Ljava/lang/reflect/Method;)V
  #121 = NameAndType        #200:#201     // accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Consumer;
  #122 = NameAndType        #202:#203     // forEach:(Ljava/util/function/Consumer;)V
  #123 = Class              #204          // java/lang/reflect/Method
  #124 = NameAndType        #205:#180     // getDeclaringClass:()Ljava/lang/Class;
  #125 = NameAndType        #206:#207     // getDeclaredFields:()[Ljava/lang/reflect/Field;
  #126 = Class              #208          // com/oracle/svm/core/jni/JNIRuntimeAccess
  #127 = NameAndType        #209:#210     // register:([Ljava/lang/reflect/Field;)V
  #128 = NameAndType        #211:#212     // getAndSet:(Z)Z
  #129 = Utf8               META-INF/native/windows64/jansi.dll
  #130 = NameAndType        #213:#214     // getClassLoader:()Ljava/lang/ClassLoader;
  #131 = Class              #215          // java/lang/ClassLoader
  #132 = NameAndType        #216:#217     // getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
  #133 = Utf8               java/lang/RuntimeException
  #134 = Utf8               java/lang/StringBuilder
  #135 = Utf8               Could not find resource
  #136 = NameAndType        #218:#219     // append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
  #137 = NameAndType        #220:#221     // toString:()Ljava/lang/String;
  #138 = NameAndType        #63:#222      // "<init>":(Ljava/lang/String;)V
  #139 = Class              #223          // com/oracle/svm/core/jdk/Resources
  #140 = NameAndType        #224:#225     // registerResource:(Ljava/lang/String;Ljava/io/InputStream;)V
  #141 = MethodHandle       7:#226        // REF_invokeSpecial io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$null$1:(Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
  #142 = MethodType         #227          //  (Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
  #143 = NameAndType        #200:#228     // accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Ljava/lang/reflect/Method;)Ljava/util/function/Consumer;
  #144 = Utf8               java/lang/Object
  #145 = NameAndType        #229:#230     // registerReachabilityHandler:(Ljava/util/function/Consumer;[Ljava/lang/Object;)V
  #146 = NameAndType        #73:#74       // registerJNIFields:(Ljava/lang/reflect/Method;)V
  #147 = Utf8               init
  #148 = Utf8               java/lang/Class
  #149 = Class              #231          // com/oracle/svm/util/ReflectionUtil
  #150 = NameAndType        #232:#233     // lookupMethod:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #151 = Utf8               java/lang/String
  #152 = Utf8               org.fusesource.jansi.internal.CLibrary
  #153 = Utf8               org.fusesource.jansi.internal.CLibrary$WinSize
  #154 = Utf8               org.fusesource.jansi.internal.CLibrary$Termios
  #155 = Utf8               org.fusesource.jansi.internal.Kernel32
  #156 = Utf8               org.fusesource.jansi.internal.Kernel32$SMALL_RECT
  #157 = Utf8               org.fusesource.jansi.internal.Kernel32$COORD
  #158 = Utf8               org.fusesource.jansi.internal.Kernel32$CONSOLE_SCREEN_BUFFER_INFO
  #159 = Utf8               org.fusesource.jansi.internal.Kernel32$CHAR_INFO
  #160 = Utf8               org.fusesource.jansi.internal.Kernel32$KEY_EVENT_RECORD
  #161 = Utf8               org.fusesource.jansi.internal.Kernel32$MOUSE_EVENT_RECORD
  #162 = Utf8               org.fusesource.jansi.internal.Kernel32$WINDOW_BUFFER_SIZE_RECORD
  #163 = Utf8               org.fusesource.jansi.internal.Kernel32$FOCUS_EVENT_RECORD
  #164 = Utf8               org.fusesource.jansi.internal.Kernel32$MENU_EVENT_RECORD
  #165 = Utf8               org.fusesource.jansi.internal.Kernel32$INPUT_RECORD
  #166 = Class              #234          // java/util/Arrays
  #167 = NameAndType        #235:#236     // asList:([Ljava/lang/Object;)Ljava/util/List;
  #168 = Utf8               io/github/alexarchambault/windowsansi/NativeImageFeature
  #169 = Utf8               org/graalvm/nativeimage/hosted/Feature
  #170 = Utf8               org/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess
  #171 = Utf8               java/io/InputStream
  #172 = Utf8               org/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess
  #173 = Utf8               org/graalvm/nativeimage/Platform
  #174 = Utf8               includedIn
  #175 = Utf8               (Ljava/lang/Class;)Z
  #176 = Utf8               java/util/List
  #177 = Utf8               stream
  #178 = Utf8               ()Ljava/util/stream/Stream;
  #179 = Utf8               getClass
  #180 = Utf8               ()Ljava/lang/Class;
  #181 = Methodref          #237.#238     // java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
  #182 = Utf8               (Ljava/lang/Object;)Ljava/lang/Object;
  #183 = InterfaceMethodref #239.#240     // org/graalvm/nativeimage/hosted/Feature$FeatureAccess.findClassByName:(Ljava/lang/String;)Ljava/lang/Class;
  #184 = Utf8               (Ljava/lang/String;)Ljava/lang/Class;
  #185 = Utf8               apply
  #186 = Utf8               (Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Function;
  #187 = Utf8               java/util/stream/Stream
  #188 = Utf8               map
  #189 = Utf8               (Ljava/util/function/Function;)Ljava/util/stream/Stream;
  #190 = Utf8               (Ljava/lang/Object;)Z
  #191 = Methodref          #241.#242     // java/util/Objects.nonNull:(Ljava/lang/Object;)Z
  #192 = Utf8               test
  #193 = Utf8               ()Ljava/util/function/Predicate;
  #194 = Utf8               filter
  #195 = Utf8               (Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
  #196 = Methodref          #55.#243      // io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$0:(Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #197 = Utf8               ()Ljava/util/function/Function;
  #198 = Utf8               (Ljava/lang/Object;)V
  #199 = Methodref          #55.#244      // io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$2:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
  #200 = Utf8               accept
  #201 = Utf8               (Lio/github/alexarchambault/windowsansi/NativeImageFeature;Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Consumer;
  #202 = Utf8               forEach
  #203 = Utf8               (Ljava/util/function/Consumer;)V
  #204 = Utf8               java/lang/reflect/Method
  #205 = Utf8               getDeclaringClass
  #206 = Utf8               getDeclaredFields
  #207 = Utf8               ()[Ljava/lang/reflect/Field;
  #208 = Utf8               com/oracle/svm/core/jni/JNIRuntimeAccess
  #209 = Utf8               register
  #210 = Utf8               ([Ljava/lang/reflect/Field;)V
  #211 = Utf8               getAndSet
  #212 = Utf8               (Z)Z
  #213 = Utf8               getClassLoader
  #214 = Utf8               ()Ljava/lang/ClassLoader;
  #215 = Utf8               java/lang/ClassLoader
  #216 = Utf8               getResourceAsStream
  #217 = Utf8               (Ljava/lang/String;)Ljava/io/InputStream;
  #218 = Utf8               append
  #219 = Utf8               (Ljava/lang/String;)Ljava/lang/StringBuilder;
  #220 = Utf8               toString
  #221 = Utf8               ()Ljava/lang/String;
  #222 = Utf8               (Ljava/lang/String;)V
  #223 = Utf8               com/oracle/svm/core/jdk/Resources
  #224 = Utf8               registerResource
  #225 = Utf8               (Ljava/lang/String;Ljava/io/InputStream;)V
  #226 = Methodref          #55.#245      // io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$null$1:(Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
  #227 = Utf8               (Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
  #228 = Utf8               (Lio/github/alexarchambault/windowsansi/NativeImageFeature;Ljava/lang/reflect/Method;)Ljava/util/function/Consumer;
  #229 = Utf8               registerReachabilityHandler
  #230 = Utf8               (Ljava/util/function/Consumer;[Ljava/lang/Object;)V
  #231 = Utf8               com/oracle/svm/util/ReflectionUtil
  #232 = Utf8               lookupMethod
  #233 = Utf8               (Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #234 = Utf8               java/util/Arrays
  #235 = Utf8               asList
  #236 = Utf8               ([Ljava/lang/Object;)Ljava/util/List;
  #237 = Class              #246          // java/lang/invoke/LambdaMetafactory
  #238 = NameAndType        #247:#250     // metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
  #239 = Class              #251          // org/graalvm/nativeimage/hosted/Feature$FeatureAccess
  #240 = NameAndType        #253:#184     // findClassByName:(Ljava/lang/String;)Ljava/lang/Class;
  #241 = Class              #254          // java/util/Objects
  #242 = NameAndType        #255:#190     // nonNull:(Ljava/lang/Object;)Z
  #243 = NameAndType        #84:#85       // lambda$beforeAnalysis$0:(Ljava/lang/Class;)Ljava/lang/reflect/Method;
  #244 = NameAndType        #78:#79       // lambda$beforeAnalysis$2:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
  #245 = NameAndType        #80:#83       // lambda$null$1:(Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
  #246 = Utf8               java/lang/invoke/LambdaMetafactory
  #247 = Utf8               metafactory
  #248 = Class              #257          // java/lang/invoke/MethodHandles$Lookup
  #249 = Utf8               Lookup
  #250 = Utf8               (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
  #251 = Utf8               org/graalvm/nativeimage/hosted/Feature$FeatureAccess
  #252 = Utf8               FeatureAccess
  #253 = Utf8               findClassByName
  #254 = Utf8               java/util/Objects
  #255 = Utf8               nonNull
  #256 = Class              #258          // java/lang/invoke/MethodHandles
  #257 = Utf8               java/lang/invoke/MethodHandles$Lookup
  #258 = Utf8               java/lang/invoke/MethodHandles
{
  private static final java.util.List<java.lang.String> JNI_CLASS_NAMES;
    descriptor: Ljava/util/List;
    flags: (0x001a) ACC_PRIVATE, ACC_STATIC, ACC_FINAL
    Signature: #60                          // Ljava/util/List<Ljava/lang/String;>;

  private java.util.concurrent.atomic.AtomicBoolean resourceRegistered;
    descriptor: Ljava/util/concurrent/atomic/AtomicBoolean;
    flags: (0x0002) ACC_PRIVATE

  io.github.alexarchambault.windowsansi.NativeImageFeature();
    descriptor: ()V
    flags: (0x0000)
    Code:
      stack=3, locals=1, args_size=1
         0: aload_0
         1: invokespecial #1                  // Method java/lang/Object."<init>":()V
         4: aload_0
         5: new           #2                  // class java/util/concurrent/atomic/AtomicBoolean
         8: dup
         9: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
        12: putfield      #4                  // Field resourceRegistered:Ljava/util/concurrent/atomic/AtomicBoolean;
        15: return
      LineNumberTable:
        line 51: 0
        line 88: 4

  public void beforeAnalysis(org.graalvm.nativeimage.hosted.Feature$BeforeAnalysisAccess);
    descriptor: (Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)V
    flags: (0x0001) ACC_PUBLIC
    Code:
      stack=3, locals=2, args_size=2
         0: ldc           #5                  // class org/graalvm/nativeimage/Platform$WINDOWS
         2: invokestatic  #6                  // InterfaceMethod org/graalvm/nativeimage/Platform.includedIn:(Ljava/lang/Class;)Z
         5: ifeq          64
         8: getstatic     #7                  // Field JNI_CLASS_NAMES:Ljava/util/List;
        11: invokeinterface #8,  1            // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
        16: aload_1
        17: dup
        18: invokevirtual #9                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
        21: pop
        22: invokedynamic #10,  0             // InvokeDynamic #0:apply:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Function;
        27: invokeinterface #11,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
        32: invokedynamic #12,  0             // InvokeDynamic #1:test:()Ljava/util/function/Predicate;
        37: invokeinterface #13,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
        42: invokedynamic #14,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
        47: invokeinterface #11,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
        52: aload_0
        53: aload_1
        54: invokedynamic #15,  0             // InvokeDynamic #3:accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;)Ljava/util/function/Consumer;
        59: invokeinterface #16,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
        64: return
      LineNumberTable:
        line 73: 0
        line 80: 8
        line 81: 27
        line 82: 37
        line 83: 47
        line 84: 59
        line 86: 64
      StackMapTable: number_of_entries = 1
        frame_type = 251 /* same_frame_extended */
          offset_delta = 64

  private void registerJNIFields(java.lang.reflect.Method);
    descriptor: (Ljava/lang/reflect/Method;)V
    flags: (0x0002) ACC_PRIVATE
    Code:
      stack=4, locals=5, args_size=2
         0: aload_1
         1: invokevirtual #17                 // Method java/lang/reflect/Method.getDeclaringClass:()Ljava/lang/Class;
         4: astore_2
         5: aload_2
         6: invokevirtual #18                 // Method java/lang/Class.getDeclaredFields:()[Ljava/lang/reflect/Field;
         9: invokestatic  #19                 // Method com/oracle/svm/core/jni/JNIRuntimeAccess.register:([Ljava/lang/reflect/Field;)V
        12: aload_0
        13: getfield      #4                  // Field resourceRegistered:Ljava/util/concurrent/atomic/AtomicBoolean;
        16: iconst_1
        17: invokevirtual #20                 // Method java/util/concurrent/atomic/AtomicBoolean.getAndSet:(Z)Z
        20: ifne          74
        23: ldc           #21                 // String META-INF/native/windows64/jansi.dll
        25: astore_3
        26: aload_2
        27: invokevirtual #22                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
        30: aload_3
        31: invokevirtual #23                 // Method java/lang/ClassLoader.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
        34: astore        4
        36: aload         4
        38: ifnonnull     68
        41: new           #24                 // class java/lang/RuntimeException
        44: dup
        45: new           #25                 // class java/lang/StringBuilder
        48: dup
        49: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
        52: ldc           #27                 // String Could not find resource
        54: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        57: aload_3
        58: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        61: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
        64: invokespecial #30                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
        67: athrow
        68: aload_3
        69: aload         4
        71: invokestatic  #31                 // Method com/oracle/svm/core/jdk/Resources.registerResource:(Ljava/lang/String;Ljava/io/InputStream;)V
        74: return
      LineNumberTable:
        line 91: 0
        line 92: 5
        line 94: 12
        line 96: 23
        line 97: 26
        line 98: 36
        line 99: 41
        line 100: 68
        line 102: 74
      StackMapTable: number_of_entries = 2
        frame_type = 254 /* append */
          offset_delta = 68
          locals = [ class java/lang/Class, class java/lang/String, class java/io/InputStream ]
        frame_type = 249 /* chop */
          offset_delta = 5

  private void lambda$beforeAnalysis$2(org.graalvm.nativeimage.hosted.Feature$BeforeAnalysisAccess, java.lang.reflect.Method);
    descriptor: (Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
    flags: (0x1002) ACC_PRIVATE, ACC_SYNTHETIC
    Code:
      stack=6, locals=3, args_size=3
         0: aload_1
         1: aload_0
         2: aload_2
         3: invokedynamic #32,  0             // InvokeDynamic #4:accept:(Lio/github/alexarchambault/windowsansi/NativeImageFeature;Ljava/lang/reflect/Method;)Ljava/util/function/Consumer;
         8: iconst_1
         9: anewarray     #33                 // class java/lang/Object
        12: dup
        13: iconst_0
        14: aload_2
        15: aastore
        16: invokeinterface #34,  3           // InterfaceMethod org/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess.registerReachabilityHandler:(Ljava/util/function/Consumer;[Ljava/lang/Object;)V
        21: return
      LineNumberTable:
        line 84: 0

  private void lambda$null$1(java.lang.reflect.Method, org.graalvm.nativeimage.hosted.Feature$DuringAnalysisAccess);
    descriptor: (Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
    flags: (0x1002) ACC_PRIVATE, ACC_SYNTHETIC
    Code:
      stack=2, locals=3, args_size=3
         0: aload_0
         1: aload_1
         2: invokespecial #35                 // Method registerJNIFields:(Ljava/lang/reflect/Method;)V
         5: return
      LineNumberTable:
        line 84: 0

  private static java.lang.reflect.Method lambda$beforeAnalysis$0(java.lang.Class);
    descriptor: (Ljava/lang/Class;)Ljava/lang/reflect/Method;
    flags: (0x100a) ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC
    Code:
      stack=3, locals=1, args_size=1
         0: aload_0
         1: ldc           #36                 // String init
         3: iconst_0
         4: anewarray     #37                 // class java/lang/Class
         7: invokestatic  #38                 // Method com/oracle/svm/util/ReflectionUtil.lookupMethod:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
        10: areturn
      LineNumberTable:
        line 83: 0

  static {};
    descriptor: ()V
    flags: (0x0008) ACC_STATIC
    Code:
      stack=4, locals=0, args_size=0
         0: bipush        14
         2: anewarray     #39                 // class java/lang/String
         5: dup
         6: iconst_0
         7: ldc           #40                 // String org.fusesource.jansi.internal.CLibrary
         9: aastore
        10: dup
        11: iconst_1
        12: ldc           #41                 // String org.fusesource.jansi.internal.CLibrary$WinSize
        14: aastore
        15: dup
        16: iconst_2
        17: ldc           #42                 // String org.fusesource.jansi.internal.CLibrary$Termios
        19: aastore
        20: dup
        21: iconst_3
        22: ldc           #43                 // String org.fusesource.jansi.internal.Kernel32
        24: aastore
        25: dup
        26: iconst_4
        27: ldc           #44                 // String org.fusesource.jansi.internal.Kernel32$SMALL_RECT
        29: aastore
        30: dup
        31: iconst_5
        32: ldc           #45                 // String org.fusesource.jansi.internal.Kernel32$COORD
        34: aastore
        35: dup
        36: bipush        6
        38: ldc           #46                 // String org.fusesource.jansi.internal.Kernel32$CONSOLE_SCREEN_BUFFER_INFO
        40: aastore
        41: dup
        42: bipush        7
        44: ldc           #47                 // String org.fusesource.jansi.internal.Kernel32$CHAR_INFO
        46: aastore
        47: dup
        48: bipush        8
        50: ldc           #48                 // String org.fusesource.jansi.internal.Kernel32$KEY_EVENT_RECORD
        52: aastore
        53: dup
        54: bipush        9
        56: ldc           #49                 // String org.fusesource.jansi.internal.Kernel32$MOUSE_EVENT_RECORD
        58: aastore
        59: dup
        60: bipush        10
        62: ldc           #50                 // String org.fusesource.jansi.internal.Kernel32$WINDOW_BUFFER_SIZE_RECORD
        64: aastore
        65: dup
        66: bipush        11
        68: ldc           #51                 // String org.fusesource.jansi.internal.Kernel32$FOCUS_EVENT_RECORD
        70: aastore
        71: dup
        72: bipush        12
        74: ldc           #52                 // String org.fusesource.jansi.internal.Kernel32$MENU_EVENT_RECORD
        76: aastore
        77: dup
        78: bipush        13
        80: ldc           #53                 // String org.fusesource.jansi.internal.Kernel32$INPUT_RECORD
        82: aastore
        83: invokestatic  #54                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
        86: putstatic     #7                  // Field JNI_CLASS_NAMES:Ljava/util/List;
        89: return
      LineNumberTable:
        line 54: 0
}
SourceFile: "NativeImageFeature.java"
RuntimeVisibleAnnotations:
  0: #90()
    com.oracle.svm.core.annotate.AutomaticFeature
InnerClasses:
  public static #69= #68 of #56;          // BeforeAnalysisAccess=class org/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess of class org/graalvm/nativeimage/hosted/Feature
  public static #82= #81 of #56;          // DuringAnalysisAccess=class org/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess of class org/graalvm/nativeimage/hosted/Feature
  public static #96= #5 of #94;           // WINDOWS=class org/graalvm/nativeimage/Platform$WINDOWS of class org/graalvm/nativeimage/Platform
  public static final #249= #248 of #256; // Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandles
  public static #252= #239 of #56;        // FeatureAccess=class org/graalvm/nativeimage/hosted/Feature$FeatureAccess of class org/graalvm/nativeimage/hosted/Feature
BootstrapMethods:
  0: #103 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
    Method arguments:
      #104 (Ljava/lang/Object;)Ljava/lang/Object;
      #105 REF_invokeInterface org/graalvm/nativeimage/hosted/Feature$FeatureAccess.findClassByName:(Ljava/lang/String;)Ljava/lang/Class;
      #106 (Ljava/lang/String;)Ljava/lang/Class;
  1: #103 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
    Method arguments:
      #110 (Ljava/lang/Object;)Z
      #111 REF_invokeStatic java/util/Objects.nonNull:(Ljava/lang/Object;)Z
      #112 (Ljava/lang/Class;)Z
  2: #103 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
    Method arguments:
      #104 (Ljava/lang/Object;)Ljava/lang/Object;
      #115 REF_invokeStatic io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$0:(Ljava/lang/Class;)Ljava/lang/reflect/Method;
      #116 (Ljava/lang/Class;)Ljava/lang/reflect/Method;
  3: #103 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
    Method arguments:
      #118 (Ljava/lang/Object;)V
      #119 REF_invokeSpecial io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$beforeAnalysis$2:(Lorg/graalvm/nativeimage/hosted/Feature$BeforeAnalysisAccess;Ljava/lang/reflect/Method;)V
      #120 (Ljava/lang/reflect/Method;)V
  4: #103 REF_invokeStatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;
    Method arguments:
      #118 (Ljava/lang/Object;)V
      #141 REF_invokeSpecial io/github/alexarchambault/windowsansi/NativeImageFeature.lambda$null$1:(Ljava/lang/reflect/Method;Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
      #142 (Lorg/graalvm/nativeimage/hosted/Feature$DuringAnalysisAccess;)V
